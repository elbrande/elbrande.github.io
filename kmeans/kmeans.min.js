// @ts-nocheck
const _0x11ad77=_0x3a2c;(function(_0x5b04cc,_0x4418fc){const _0x502261=_0x3a2c,_0x27d205=_0x5b04cc();while(!![]){try{const _0xcdad3a=-parseInt(_0x502261(0x1be))/0x1+parseInt(_0x502261(0x151))/0x2*(parseInt(_0x502261(0x15d))/0x3)+parseInt(_0x502261(0x1ec))/0x4*(-parseInt(_0x502261(0x207))/0x5)+-parseInt(_0x502261(0x17c))/0x6+-parseInt(_0x502261(0x1d6))/0x7+-parseInt(_0x502261(0x1ca))/0x8*(-parseInt(_0x502261(0x190))/0x9)+parseInt(_0x502261(0x140))/0xa;if(_0xcdad3a===_0x4418fc)break;else _0x27d205['push'](_0x27d205['shift']());}catch(_0x230fd4){_0x27d205['push'](_0x27d205['shift']());}}}(_0x2890,0xb6665));const _0x839fcb=(function(){let _0x13cb41=!![];return function(_0x14541e,_0x124e1d){const _0xd1939=_0x13cb41?function(){const _0x1be39a=_0x3a2c;if(_0x124e1d){const _0x4b2a82=_0x124e1d[_0x1be39a(0x19b)](_0x14541e,arguments);return _0x124e1d=null,_0x4b2a82;}}:function(){};return _0x13cb41=![],_0xd1939;};}()),_0x746a48=_0x839fcb(this,function(){const _0x5ed322=_0x3a2c;return _0x746a48[_0x5ed322(0x16a)]()[_0x5ed322(0x172)](_0x5ed322(0x13a))[_0x5ed322(0x16a)]()[_0x5ed322(0x188)](_0x746a48)[_0x5ed322(0x172)]('(((.+)+)+)+$');});function _0x2890(){const _0x39dfe1=['start','getClusterExpansionZoom','querySelector','findLayerById','View\x20is\x20ready.\x20\x20Setup\x20UI\x20and\x20Sketch\x20Tools','properties','kmeans\x20step','addLayer','403549NMHVXP','add','initMap','Assigment\x20Complete\x20','getCentroid','initKmeans','cos','simple-marker','features','coordinates','AAPK0cd2f0f32a494df3ae6c449ac67faabbfaPt0C5s0X6EPcaWH0P-2j_6PUAOrvcB2sERatzoXpK7Cc_z7F5JL40rCzTiDPLT','addEventListener','16Yofhta','length','view','locations.json','\x20calculations','lngLat','\x20features','toggle\x20logs','symbol','data','detectMovement','circle','7247499kHwmBL','clusterLayer','#B7AC83','Initialized\x20kmeans','locations\x20are\x20already\x20loaded','logContainer','floor','click','Graphic','getBounds','logID','get','point','hidden','unclustered-point','latitude','custom-clustericon-1','name','easeTo','visibility','logger','Movement\x20detected\x20','468Pcdckd','locationsLayerId','arcgis','trace','kmeansMap','has','esri/config','pointer','lat','Moving\x20Cluster','Finding\x20closest\x20Centroid','FeatureCollection','json','__proto__','runLimit','bbbMapParameters','setOption','forEach','innerHTML','lng','KMEANS','locs','custom-clustericon-2','loc','esri/geometry/geometryEngine','step','#fff','6505wbiIiO','addLocations2','custom-clustericon-3','{}.constructor(\x22return\x20this\x22)(\x20)','style','Arial\x20Unicode\x20MS\x20Bold','clone','bbbLogger','locationSymbol','esri/views/MapView','mouseleave','Ready','(((.+)+)+)+$','init','error','kmeansClusters','No\x20cluster\x20was\x20moved.\x20\x20Locations\x20Optimized.','_data','1545310IHgxuw','prototype','attributes','graphics','creating\x20kmeans\x20object','Generating\x20kmeans\x20cluster\x20markers','runKmeans','getCentroidxxx','mouseenter','#51bbd6','parameters','Added\x20','_locs','console','removeClusters','Centroid','createElement','20lflCaz','_bounds','getLayer','getSouthWest','defaults','kmeans\x20done','esri/Map','DOMContentLoaded','longitude','No\x20clusters\x20yet.\x20Use\x20the\x20start\x20button','property','Setting\x20option','430626MHmplS','addSource','Moving\x20Cluster\x20Begin','cluster-count','dm_','map','seedClusters','find','runInterval','bind','assign','assigments','\x20</span>\x20','toString','cluster','queryRenderedFeatures','Assignment\x20complete','#f28cb1','Locations\x20Cluster\x20Begin','geometry','Checking\x20Cluster','search','calcite-card','getRandom','atan2','opt','filter','addLocations','removeAll','LngLatBounds','\x20moving','3764526WQvvRi','value','Popup','DIN\x20Offc\x20Pro\x20Medium','infoWindow','_oldPosition','clusters','getCanvas','point_count','top-right','oldGeometry','city','constructor','toISOString','getElementById','\x20clusters','push','clusterSymbol','distanceBetweenGPoints','_dist','6190659tjIUwT','info','random','New\x20cluster\x20def','run','startKmeans','please\x20pass\x20a\x20valid\x20value','esri/Graphic','bermuda','geometryEngine','<br>test','apply','distance','cursor','table','sin','kmeansLocations','setHTML','Adding\x20locations','No\x20clusters.\x20\x20Use\x20Start.','removeList','dataLayer','moveCluster','log','\x20clusters\x20complete\x20','remove','Private\x20kmeans\x20init','Step\x20Click','Starting\x20kmeans','Seeding\x20clusters','Running\x20kmeans','apiKey','center','exception','items','closestCentroid','Feature','#f1f075'];_0x2890=function(){return _0x39dfe1;};return _0x2890();}function _0x3a2c(_0x52d280,_0x4ce304){const _0x1d9f97=_0x2890();return _0x3a2c=function(_0x4cb100,_0x251b11){_0x4cb100=_0x4cb100-0x134;let _0x316572=_0x1d9f97[_0x4cb100];return _0x316572;},_0x3a2c(_0x52d280,_0x4ce304);}_0x746a48();const _0x251b11=(function(){let _0x5735a9=!![];return function(_0x21f027,_0x1bc2c3){const _0x123304=_0x5735a9?function(){const _0x22def8=_0x3a2c;if(_0x1bc2c3){const _0xb2cc1b=_0x1bc2c3[_0x22def8(0x19b)](_0x21f027,arguments);return _0x1bc2c3=null,_0xb2cc1b;}}:function(){};return _0x5735a9=![],_0x123304;};}()),_0x4cb100=_0x251b11(this,function(){const _0x5f398b=_0x3a2c,_0x459bbc=function(){const _0x45916d=_0x3a2c;let _0x4f0ea1;try{_0x4f0ea1=Function('return\x20(function()\x20'+_0x45916d(0x20a)+');')();}catch(_0x3292a1){_0x4f0ea1=window;}return _0x4f0ea1;},_0x1967de=_0x459bbc(),_0x2b784e=_0x1967de[_0x5f398b(0x14d)]=_0x1967de[_0x5f398b(0x14d)]||{},_0x1de55b=[_0x5f398b(0x1a7),'warn',_0x5f398b(0x191),_0x5f398b(0x13c),_0x5f398b(0x1b1),_0x5f398b(0x19e),_0x5f398b(0x1ef)];for(let _0x4e251f=0x0;_0x4e251f<_0x1de55b[_0x5f398b(0x1cb)];_0x4e251f++){const _0x29bc04=_0x251b11[_0x5f398b(0x188)]['prototype'][_0x5f398b(0x166)](_0x251b11),_0x4ea420=_0x1de55b[_0x4e251f],_0x28e106=_0x2b784e[_0x4ea420]||_0x29bc04;_0x29bc04[_0x5f398b(0x1f9)]=_0x251b11[_0x5f398b(0x166)](_0x251b11),_0x29bc04[_0x5f398b(0x16a)]=_0x28e106['toString'][_0x5f398b(0x166)](_0x28e106),_0x2b784e[_0x4ea420]=_0x29bc04;}});_0x4cb100(),(bbbMap={},bbbMap['init']=function(){const _0x5b284e=_0x3a2c;bbbMap[_0x5b284e(0x1c0)]();},bbbMap['initMap']=function(){const _0x58ace2=_0x3a2c;require([_0x58ace2(0x1f2),_0x58ace2(0x157),_0x58ace2(0x137),_0x58ace2(0x197),'esri/layers/GraphicsLayer',_0x58ace2(0x204)],(_0x42dde3,_0x1e89be,_0x5029f7,_0x4b8a26,_0x76b9e1,_0x560264)=>((async()=>{const _0x534a2f=_0x58ace2;_0x42dde3[_0x534a2f(0x1af)]=_0x534a2f(0x1c8);const _0x13cded=new _0x1e89be({'basemap':'arcgis-dark-gray'});bbbMap[_0x534a2f(0x1cc)]=new _0x5029f7({'map':_0x13cded,'center':[-96.3537,40.6698],'zoom':0x4,'highlightOptions':{'color':_0x534a2f(0x1d8)},'popup':{'defaultPopupTemplateEnabled':0x1,'dockEnabled':0x1,'dockOptions':{'buttonEnabled':0x0,'breakpoint':0x0}},'container':'map'});const _0x3f5d0f=new _0x76b9e1({'id':_0x534a2f(0x1a5),'popupEnabled':0x1});_0x13cded['add'](_0x3f5d0f);const _0x406321=new _0x76b9e1({'id':'clusterLayer','popupEnabled':0x1,'effect':'bloom()'});_0x13cded[_0x534a2f(0x1bf)](_0x406321),bbbMap[_0x534a2f(0x1cc)]['when'](async _0x191ab6=>{const _0x33ca4d=_0x534a2f;console[_0x33ca4d(0x1a7)](_0x33ca4d(0x1ba),bbbMap[_0x33ca4d(0x1cc)]),data=await fetch(_0x33ca4d(0x1cd));let _0x1f8530=await data[_0x33ca4d(0x1f8)]();_0x1f8530=_0x1f8530[_0x33ca4d(0x177)](_0x3ae300=>'US'===_0x3ae300['country']),_0x1f8530=_0x1f8530['slice'](0x0,0x3e8),bbbMap['ui'](),bbbMap[_0x33ca4d(0x1f0)]=new bbbMap[(_0x33ca4d(0x200))](_0x13cded,bbbMap[_0x33ca4d(0x1cc)],{'data':_0x1f8530},{'Graphic':_0x4b8a26,'geometryEngine':_0x560264}),document['body'][_0x33ca4d(0x20b)][_0x33ca4d(0x1e9)]='';});})()));},bbbMap['ui']=function(){const _0x119a33=_0x3a2c;console[_0x119a33(0x1a7)]('Setting\x20up\x20user\x20interface'),bbbMap[_0x119a33(0x14a)]=document['getElementById'](_0x119a33(0x1fb)),bbbMap[_0x119a33(0x1db)]=document[_0x119a33(0x18a)](_0x119a33(0x135)),bbbMap[_0x119a33(0x1cc)]['ui']['add'](bbbMap[_0x119a33(0x14a)],_0x119a33(0x185)),bbbMap['view']['ui'][_0x119a33(0x1bf)](bbbMap['logContainer'],_0x119a33(0x185)),document[_0x119a33(0x18a)](_0x119a33(0x195))[_0x119a33(0x1c9)]('click',_0x29c106=>{const _0x564a98=_0x119a33;let _0x7d1dfa=document['getElementById']('k')[_0x564a98(0x17d)];bbbMap[_0x564a98(0x1f0)][_0x564a98(0x1fc)]('k',_0x7d1dfa),console['log']('Start\x20Click',_0x29c106),bbbMap[_0x564a98(0x1f0)][_0x564a98(0x1b6)]();}),document[_0x119a33(0x18a)]('stepKmeans')[_0x119a33(0x1c9)]('click',_0x26054b=>{const _0xcaea02=_0x119a33;console[_0xcaea02(0x1a7)](_0xcaea02(0x1ab),_0x26054b),bbbMap['kmeansMap']['step']();}),document['getElementById'](_0x119a33(0x146))['addEventListener'](_0x119a33(0x1dd),_0x53c90d=>{const _0x403a50=_0x119a33;console['log']('Run\x20Click',_0x53c90d),bbbMap[_0x403a50(0x1f0)][_0x403a50(0x194)]();}),document[_0x119a33(0x18a)](_0x119a33(0x1ea))[_0x119a33(0x1c9)](_0x119a33(0x1dd),_0x2f258f=>{const _0x1af8e4=_0x119a33;console['log'](_0x1af8e4(0x1d1)),bbbMap[_0x1af8e4(0x1db)][_0x1af8e4(0x20b)]['visibility']?bbbMap[_0x1af8e4(0x1db)][_0x1af8e4(0x20b)]['visibility']='':bbbMap[_0x1af8e4(0x1db)][_0x1af8e4(0x20b)]['visibility']=_0x1af8e4(0x1e3);});},bbbMap[_0x11ad77(0x200)]=function(_0x55e0ed,_0x18ee0e,_0x12e226,_0x2cc823){const _0x13b24a=_0x11ad77;console[_0x13b24a(0x1a7)](_0x13b24a(0x144)),this[_0x13b24a(0x176)]=Object[_0x13b24a(0x167)]({},this[_0x13b24a(0x155)],_0x12e226),this[_0x13b24a(0x162)]=_0x55e0ed,this[_0x13b24a(0x1cc)]=_0x18ee0e,this['arcgis']=_0x2cc823,this[_0x13b24a(0x1a5)]=_0x55e0ed['findLayerById'](_0x13b24a(0x1a5)),this[_0x13b24a(0x1d7)]=_0x55e0ed[_0x13b24a(0x1b9)](_0x13b24a(0x1d7)),this['_loc']=_0x12e226[_0x13b24a(0x203)],this[_0x13b24a(0x13f)]=_0x12e226[_0x13b24a(0x1d3)],this[_0x13b24a(0x1e0)]=0x0,this[_0x13b24a(0x180)]=null,this[_0x13b24a(0x1b0)]={'lat':39.990268,'lng':-93.569075},this['assigments']=[],this[_0x13b24a(0x1c3)]();},bbbMap['KMEANS']['prototype'][_0x11ad77(0x155)]={'k':0xf,'n':0x23,'runInterval':0xfa,'runLimit':0x3c,'bermuda':{'lat':32.299507,'lng':-64.79},'maxIntensity':0x1e,'radius':0.8,'opacity':0.5,'clusterStyle':[{'width':0x14,'height':0x14,'className':_0x11ad77(0x1e6)},{'width':0x19,'height':0x19,'className':_0x11ad77(0x202)},{'width':0x1e,'height':0x1e,'className':_0x11ad77(0x209)}],'locationsLayerId':_0x11ad77(0x1a0),'clusterLayerId':_0x11ad77(0x13d),'locationSymbol':{'type':_0x11ad77(0x1c5),'color':[0xc0,0xc0,0xc0,0.2],'size':0x4,'outline':{'color':[0xff,0xff,0xff,0.2],'width':0x0}},'clusterSymbol':{'type':_0x11ad77(0x1c5),'color':[0xe2,0x77,0x28,0.5],'size':0xc,'outline':{'color':[0xff,0xff,0xff,0.25],'width':0.5}}},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)]['log']=function(_0x598ed0){const _0x4a707a=_0x11ad77;this[_0x4a707a(0x1e0)]++;const _0x454fcd=document[_0x4a707a(0x150)](_0x4a707a(0x173));new Date()[_0x4a707a(0x189)](),(_0x454fcd[_0x4a707a(0x1fe)]='<span\x20slot=\x22description\x22>'+this['logID']+':\x20'+_0x598ed0+_0x4a707a(0x169),bbbMap[_0x4a707a(0x1db)]['prepend'](_0x454fcd));},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x174)]=function(_0x625570,_0x12ad08){const _0x10005a=_0x11ad77;let _0xff799f=null;return _0xff799f=Math[_0x10005a(0x192)]()*(_0x12ad08-_0x625570)+_0x625570,_0xff799f;},bbbMap[_0x11ad77(0x200)]['prototype'][_0x11ad77(0x1c3)]=function(){const _0x383d1f=_0x11ad77;console[_0x383d1f(0x1a7)](_0x383d1f(0x1aa),this['opt']),this[_0x383d1f(0x1a7)](_0x383d1f(0x1d9)),document[_0x383d1f(0x1b8)]('#k')[_0x383d1f(0x17d)]=this['opt']['k'];},bbbMap['KMEANS'][_0x11ad77(0x141)]['setOption']=function(_0x30aa0e,_0x4fc0d5){const _0x44d743=_0x11ad77;if(console['log'](_0x44d743(0x15c),_0x30aa0e,_0x4fc0d5),void 0x0===_0x4fc0d5)throw _0x44d743(0x196);this[_0x44d743(0x176)][_0x30aa0e]=_0x4fc0d5;},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)]['start']=function(){const _0x9f22f0=_0x11ad77;console[_0x9f22f0(0x1a7)](_0x9f22f0(0x1ac),this[_0x9f22f0(0x176)]),this[_0x9f22f0(0x1a7)](_0x9f22f0(0x1ac)),this[_0x9f22f0(0x161)]=[],this[_0x9f22f0(0x1a4)]=[],this[_0x9f22f0(0x178)](),this['removeClusters'](),this[_0x9f22f0(0x163)]();},bbbMap[_0x11ad77(0x200)]['prototype'][_0x11ad77(0x14e)]=function(){const _0x3bd1a1=_0x11ad77;console['log']('Removing\x20clusters'),bbbMap[_0x3bd1a1(0x1f0)][_0x3bd1a1(0x1d7)][_0x3bd1a1(0x179)]();},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x178)]=function(){const _0x1c4754=_0x11ad77;let _0x5e4227=this,_0x3d3d75=[];console[_0x1c4754(0x1a7)](_0x1c4754(0x1a2),_0x5e4227[_0x1c4754(0x13f)][_0x1c4754(0x1c6)]),_0x5e4227['dataLayer'][_0x1c4754(0x143)][_0x1c4754(0x1b2)][_0x1c4754(0x1cb)]>0x0?console['log']('Markers\x20already\x20added'):_0x3d3d75=_0x5e4227[_0x1c4754(0x13f)][_0x1c4754(0x162)](function(_0x2d6285,_0x359b4f){const _0x1b4b21=_0x1c4754,_0x244f92={'type':_0x1b4b21(0x1e2),'longitude':_0x2d6285[_0x1b4b21(0x159)],'latitude':_0x2d6285['latitude']},_0x2d5d0d=new _0x5e4227[(_0x1b4b21(0x1ee))][(_0x1b4b21(0x1de))]({'geometry':_0x244f92,'symbol':_0x5e4227[_0x1b4b21(0x176)][_0x1b4b21(0x136)],'attributes':{'name':_0x2d6285['name'],'city':_0x2d6285[_0x1b4b21(0x187)]}});return _0x5e4227[_0x1b4b21(0x1a5)][_0x1b4b21(0x1bf)](_0x2d5d0d),_0x2d5d0d;}),_0x5e4227[_0x1c4754(0x1a7)](_0x1c4754(0x14b)+_0x5e4227['_data'][_0x1c4754(0x1cb)]+_0x1c4754(0x1d0));},bbbMap[_0x11ad77(0x200)]['prototype'][_0x11ad77(0x208)]=function(){const _0x185ed0=_0x11ad77;let _0x5cfbae=this;this[_0x185ed0(0x162)][_0x185ed0(0x153)](_0x5cfbae[_0x185ed0(0x176)][_0x185ed0(0x1ed)])?console[_0x185ed0(0x1a7)](_0x185ed0(0x1da)):(this[_0x185ed0(0x162)][_0x185ed0(0x15e)](_0x5cfbae[_0x185ed0(0x176)][_0x185ed0(0x1ed)],{'type':'geojson','data':bbbMapData,'cluster':!0x1,'clusterMaxZoom':0xe,'clusterRadius':0x32}),this[_0x185ed0(0x162)]['addLayer']({'id':'clusters','type':_0x185ed0(0x1d5),'source':_0x5cfbae[_0x185ed0(0x176)]['locationsLayerId'],'filter':[_0x185ed0(0x1f1),'point_count'],'paint':{'circle-color':[_0x185ed0(0x205),[_0x185ed0(0x1e1),'point_count'],_0x185ed0(0x149),0x64,_0x185ed0(0x1b5),0x2ee,_0x185ed0(0x16e)],'circle-radius':[_0x185ed0(0x205),['get',_0x185ed0(0x184)],0x14,0x64,0x1e,0x2ee,0x28]}}),this[_0x185ed0(0x162)][_0x185ed0(0x1bd)]({'id':_0x185ed0(0x160),'type':_0x185ed0(0x1d2),'source':_0x5cfbae[_0x185ed0(0x176)][_0x185ed0(0x1ed)],'filter':[_0x185ed0(0x1f1),_0x185ed0(0x184)],'layout':{'text-field':[_0x185ed0(0x1e1),'point_count_abbreviated'],'text-font':[_0x185ed0(0x17f),_0x185ed0(0x20c)],'text-size':0xc}}),this['map'][_0x185ed0(0x1bd)]({'id':_0x185ed0(0x1e4),'type':_0x185ed0(0x1d5),'source':_0x5cfbae[_0x185ed0(0x176)]['locationsLayerId'],'filter':['!',[_0x185ed0(0x1f1),'point_count']],'paint':{'circle-color':'#11b4da','circle-radius':0x4,'circle-stroke-width':0x1,'circle-stroke-color':_0x185ed0(0x206)}}),this['map']['on'](_0x185ed0(0x1dd),'clusters',_0x2cb266=>{const _0x2f0198=_0x185ed0,_0x588ea1=_0x5cfbae[_0x2f0198(0x162)][_0x2f0198(0x16c)](_0x2cb266['point'],{'layers':[_0x2f0198(0x182)]}),_0x248b3f=_0x588ea1[0x0][_0x2f0198(0x1bb)]['cluster_id'];_0x5cfbae[_0x2f0198(0x162)]['getSource'](_0x5cfbae['opt'][_0x2f0198(0x1ed)])[_0x2f0198(0x1b7)](_0x248b3f,(_0x563e2b,_0x215cfb)=>{const _0x7e9f2c=_0x2f0198;_0x563e2b||_0x5cfbae[_0x7e9f2c(0x162)][_0x7e9f2c(0x1e8)]({'center':_0x588ea1[0x0][_0x7e9f2c(0x170)]['coordinates'],'zoom':_0x215cfb});});}),this[_0x185ed0(0x162)]['on'](_0x185ed0(0x1dd),'unclustered-point',_0x481d20=>{const _0x490ee0=_0x185ed0,_0x2363cc=_0x481d20['features'][0x0][_0x490ee0(0x170)][_0x490ee0(0x1c7)]['slice'](),_0x549687=_0x481d20[_0x490ee0(0x1c6)][0x0][_0x490ee0(0x1bb)][_0x490ee0(0x1e7)];for(;Math['abs'](_0x481d20[_0x490ee0(0x1cf)][_0x490ee0(0x1ff)]-_0x2363cc[0x0])>0xb4;)_0x2363cc[0x0]+=_0x481d20[_0x490ee0(0x1cf)][_0x490ee0(0x1ff)]>_0x2363cc[0x0]?0x168:-0x168;new mapboxgl[(_0x490ee0(0x17e))]()['setLngLat'](_0x2363cc)[_0x490ee0(0x1a1)]('Name:\x20'+_0x549687+_0x490ee0(0x19a))['addTo'](bbbMap[_0x490ee0(0x1f0)][_0x490ee0(0x162)]);}),this['map']['on'](_0x185ed0(0x148),_0x185ed0(0x182),()=>{const _0x2dc929=_0x185ed0;_0x5cfbae['map']['getCanvas']()[_0x2dc929(0x20b)][_0x2dc929(0x19d)]=_0x2dc929(0x1f3);}),this[_0x185ed0(0x162)]['on'](_0x185ed0(0x138),_0x185ed0(0x182),()=>{const _0x358940=_0x185ed0;_0x5cfbae[_0x358940(0x162)][_0x358940(0x183)]()[_0x358940(0x20b)]['cursor']='';}));},bbbMap['KMEANS']['prototype'][_0x11ad77(0x1df)]=function(_0x50fc7d){const _0x2592d7=_0x11ad77;let _0x310b31=new mapboxgl[(_0x2592d7(0x17a))]();return _0x50fc7d[_0x2592d7(0x1c6)][_0x2592d7(0x1fd)](function(_0x3630d6){const _0x34f5d1=_0x2592d7;_0x310b31['extend'](_0x3630d6[_0x34f5d1(0x170)]['coordinates']);}),console[_0x2592d7(0x1a7)](_0x310b31),_0x310b31;},bbbMap['KMEANS'][_0x11ad77(0x141)]['getKmeansJSON']=function(){const _0x2d0800=_0x11ad77;let _0x3598ba=this,_0x3eefda=0x0,_0x1db1ae=this[_0x2d0800(0x1df)](this['_data']),_0x533a64={'type':_0x2d0800(0x1f7)},_0xcbd615=[];for(console[_0x2d0800(0x1a7)](_0x2d0800(0x145),_0x1db1ae,_0x1db1ae['getNorthEast'](),_0x1db1ae[_0x2d0800(0x154)]()),this[_0x2d0800(0x176)][_0x2d0800(0x152)]=_0x1db1ae;_0x3eefda<_0x3598ba['opt']['k'];){let _0x464f45={'type':_0x2d0800(0x1b4),'geometry':{'type':'Point','coordinates':[]}},_0xbdf51={'name':_0x2d0800(0x16b)};_0x464f45[_0x2d0800(0x170)]['coordinates'][0x0]=_0x3598ba[_0x2d0800(0x174)](-124.736342,-66.945392),_0x464f45[_0x2d0800(0x170)][_0x2d0800(0x1c7)][0x1]=_0x3598ba[_0x2d0800(0x174)](24.52,49.38),_0x464f45[_0x2d0800(0x15b)]=_0xbdf51,_0xcbd615['push'](_0x464f45),_0x3eefda++;}return _0x533a64[_0x2d0800(0x1c6)]=_0xcbd615,_0x533a64;},bbbMap[_0x11ad77(0x200)]['prototype'][_0x11ad77(0x163)]=function(){const _0xb6c4c5=_0x11ad77;this['log'](_0xb6c4c5(0x1ad));let _0x5c5e84=0x0,_0x1ecc59=this;for(_0x1ecc59[_0xb6c4c5(0x168)]=[];_0x5c5e84<_0x1ecc59[_0xb6c4c5(0x176)]['k'];){let _0x4c43a7=Math[_0xb6c4c5(0x1dc)](Math[_0xb6c4c5(0x192)]()*_0x1ecc59['_data'][_0xb6c4c5(0x1cb)]),_0x4ac433=_0x1ecc59[_0xb6c4c5(0x13f)][_0x4c43a7];const _0x4a5f97={'type':_0xb6c4c5(0x1e2),'longitude':_0x4ac433['longitude']-0.1,'latitude':_0x4ac433[_0xb6c4c5(0x1e5)]+0.1};let _0x314575=new _0x1ecc59[(_0xb6c4c5(0x1ee))][(_0xb6c4c5(0x1de))]({'geometry':_0x4a5f97,'symbol':_0x1ecc59[_0xb6c4c5(0x176)][_0xb6c4c5(0x18d)],'attributes':{'cluster':_0x5c5e84}});_0x314575[_0xb6c4c5(0x181)]={'lat':'','lng':''},_0x314575[_0xb6c4c5(0x14c)]=[],_0x1ecc59[_0xb6c4c5(0x1d7)][_0xb6c4c5(0x1bf)](_0x314575),_0x1ecc59['assigments'][_0xb6c4c5(0x18c)]({'id':_0x5c5e84,'geometry':_0x4a5f97,'oldGeometry':{},'locs':[]}),_0x5c5e84++;}_0x1ecc59[_0xb6c4c5(0x1a7)]('Added\x20'+_0x5c5e84+_0xb6c4c5(0x18b));},bbbMap[_0x11ad77(0x200)]['prototype'][_0x11ad77(0x205)]=function(){const _0x25c9e3=_0x11ad77;console[_0x25c9e3(0x1a7)](_0x25c9e3(0x1bc)),this[_0x25c9e3(0x1d7)][_0x25c9e3(0x143)][_0x25c9e3(0x1b2)]&&this[_0x25c9e3(0x1d7)][_0x25c9e3(0x143)][_0x25c9e3(0x1b2)]['length']>0x0?(this['assign'](),this[_0x25c9e3(0x1a6)]()):console[_0x25c9e3(0x1a7)](_0x25c9e3(0x1a3));},bbbMap[_0x11ad77(0x200)]['prototype']['detectMovement']=function(){const _0x3ab099=_0x11ad77;let _0x3e11ba,_0x3dfa10,_0x38f8d3=!0x1,_0x4135b8=0x0,_0xddb8e=0x0;return this[_0x3ab099(0x168)][_0x3ab099(0x1fd)]((_0x38a03f,_0x5c1ffc)=>{const _0x4eab6c=_0x3ab099;console['log'](_0x4eab6c(0x171),_0x5c1ffc,_0x38a03f),_0x3e11ba=_0x38a03f['geometry'],_0x3dfa10=_0x38a03f[_0x4eab6c(0x186)],_0x3e11ba[_0x4eab6c(0x1e5)]!==_0x3dfa10['latitude']&&_0x3e11ba[_0x4eab6c(0x159)]!==_0x3dfa10[_0x4eab6c(0x159)]?(_0x38f8d3=!0x0,_0xddb8e++):_0x4135b8++;}),console[_0x3ab099(0x1a7)](_0x3ab099(0x1eb),_0x38f8d3),this[_0x3ab099(0x1a7)]('Movement\x20detection:\x20'+_0x4135b8+'\x20optimized;\x20'+_0xddb8e+_0x3ab099(0x17b)),_0x38f8d3;},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x194)]=function(){const _0x2471e5=_0x11ad77;console[_0x2471e5(0x1a7)](_0x2471e5(0x1ae),this['opt']);let _0x596df5,_0x5da1bd=0x0,_0x50de3d=this;this[_0x2471e5(0x1d7)][_0x2471e5(0x143)][_0x2471e5(0x1b2)]&&this[_0x2471e5(0x1d7)]['graphics'][_0x2471e5(0x1b2)][_0x2471e5(0x1cb)]>0x0?_0x596df5=setInterval(function(){const _0x3d24c7=_0x2471e5;_0x50de3d[_0x3d24c7(0x205)](),_0x5da1bd>=_0x50de3d[_0x3d24c7(0x176)][_0x3d24c7(0x1fa)]&&clearInterval(_0x596df5),!0x1===_0x50de3d[_0x3d24c7(0x1d4)]()&&(clearInterval(_0x596df5),_0x50de3d[_0x3d24c7(0x1a7)](_0x3d24c7(0x13e))),_0x5da1bd+=0x1;},this[_0x2471e5(0x176)][_0x2471e5(0x165)]):console['log'](_0x2471e5(0x15a)),console[_0x2471e5(0x1a7)](_0x2471e5(0x156));},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x167)]=function(){const _0x3c6d30=_0x11ad77;console[_0x3c6d30(0x1a7)]('Assigning\x20locations\x20to\x20cluster',this['clusterLayer'][_0x3c6d30(0x143)]['items'],this['dataLayer']['graphics']['items']);let _0xc3fe64,_0x2329c3,_0x8c6ea8=0x1/0x0,_0x530508=0x0,_0x306dd1=this,_0x535eae=0x0;_0x306dd1[_0x3c6d30(0x1d7)][_0x3c6d30(0x143)]['items'][_0x3c6d30(0x1fd)](function(_0x4f92b1){const _0x2fc818=_0x3c6d30;_0x4f92b1[_0x2fc818(0x14c)]=[];const _0x28f0c2=_0x306dd1['assigments']['find'](_0x1258b4=>_0x1258b4['id']===_0x4f92b1[_0x2fc818(0x142)][_0x2fc818(0x16b)]);_0x28f0c2[_0x2fc818(0x201)]=[];}),_0x306dd1[_0x3c6d30(0x1a5)]['graphics'][_0x3c6d30(0x1b2)][_0x3c6d30(0x1fd)](function(_0x10a5c3,_0xd2c7b3){const _0x43ed58=_0x3c6d30;_0x8c6ea8=0x1/0x0,_0x306dd1[_0x43ed58(0x1d7)][_0x43ed58(0x143)][_0x43ed58(0x1b2)]['forEach'](function(_0x31fde7,_0x52ec41){const _0x41d9fc=_0x43ed58;_0x530508=_0x306dd1['arcgis']['geometryEngine'][_0x41d9fc(0x19c)](_0x10a5c3[_0x41d9fc(0x170)],_0x31fde7['geometry']),_0x535eae++,_0x530508<_0x8c6ea8&&(_0x8c6ea8=_0x530508,_0xc3fe64=_0x52ec41,_0x2329c3=_0x10a5c3['geometry']);}),_0x10a5c3[_0x43ed58(0x18f)]=_0x8c6ea8,_0x10a5c3['clusterID']=_0xc3fe64,console[_0x43ed58(0x1a7)](_0x43ed58(0x16d),_0x8c6ea8,_0xc3fe64),_0x306dd1[_0x43ed58(0x1d7)][_0x43ed58(0x143)][_0x43ed58(0x1b2)][_0xc3fe64][_0x43ed58(0x14c)][_0x43ed58(0x18c)](_0x10a5c3);let _0x123d29=_0x306dd1[_0x43ed58(0x168)][_0x43ed58(0x164)](_0x2ce10a=>_0x2ce10a['id']===_0xc3fe64);_0x123d29[_0x43ed58(0x201)][_0x43ed58(0x18c)]({'d':_0x8c6ea8,'loc':_0xd2c7b3,'geometry':_0x2329c3});}),_0x306dd1['log'](_0x3c6d30(0x1c1)+_0x535eae+_0x3c6d30(0x1ce));},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x1a6)]=function(){const _0x5394c3=_0x11ad77;let _0x4e7cdf,_0x58527b=0x0,_0x32a6d8=this;_0x32a6d8[_0x5394c3(0x168)]['forEach']((_0x4d3cd6,_0x100898)=>{const _0x1fb2c8=_0x5394c3;console[_0x1fb2c8(0x1a7)](_0x1fb2c8(0x1f5),_0x4d3cd6['id'],_0x4d3cd6),_0x4d3cd6[_0x1fb2c8(0x186)]=Object[_0x1fb2c8(0x167)]({},_0x4d3cd6[_0x1fb2c8(0x170)]),console[_0x1fb2c8(0x1a7)](_0x1fb2c8(0x15f),_0x100898,_0x4d3cd6),_0x4d3cd6[_0x1fb2c8(0x201)]&&_0x4d3cd6['locs'][_0x1fb2c8(0x1cb)]>0x0?(console[_0x1fb2c8(0x1a7)](_0x1fb2c8(0x16f),_0x4d3cd6[_0x1fb2c8(0x201)][_0x1fb2c8(0x1cb)],_0x4d3cd6[_0x1fb2c8(0x201)]),_0x4e7cdf=_0x32a6d8[_0x1fb2c8(0x1c2)](_0x4d3cd6[_0x1fb2c8(0x201)]),console[_0x1fb2c8(0x1a7)](_0x1fb2c8(0x14f),_0x4e7cdf)):(console[_0x1fb2c8(0x1a7)]('No\x20assigned\x20locations.\x20\x20Move\x20to\x20bermuda\x20triangle'),_0x4e7cdf=_0x32a6d8['opt'][_0x1fb2c8(0x198)]),_0x58527b++,_0x4d3cd6['geometry'][_0x1fb2c8(0x1e5)]=_0x4e7cdf[_0x1fb2c8(0x1f4)],_0x4d3cd6[_0x1fb2c8(0x170)][_0x1fb2c8(0x159)]=_0x4e7cdf[_0x1fb2c8(0x1ff)];let _0x5598ea=bbbMap['kmeansMap']['clusterLayer'][_0x1fb2c8(0x143)]['items']['find'](_0x3c2681=>_0x3c2681[_0x1fb2c8(0x142)][_0x1fb2c8(0x16b)]===_0x4d3cd6['id']);console[_0x1fb2c8(0x1a7)]('Moving\x20Cluster',_0x4d3cd6['id'],_0x5598ea,_0x100898,_0x4d3cd6,_0x4e7cdf[_0x1fb2c8(0x1f4)],_0x4e7cdf[_0x1fb2c8(0x1ff)]);let _0x279307=_0x5598ea[_0x1fb2c8(0x134)]();_0x279307['geometry'][_0x1fb2c8(0x1e5)]=_0x4e7cdf[_0x1fb2c8(0x1f4)],_0x279307[_0x1fb2c8(0x170)]['longitude']=_0x4e7cdf['lng'],console['log'](_0x1fb2c8(0x193),_0x279307),_0x32a6d8[_0x1fb2c8(0x1d7)][_0x1fb2c8(0x143)][_0x1fb2c8(0x1a9)](_0x5598ea),_0x32a6d8['clusterLayer'][_0x1fb2c8(0x143)][_0x1fb2c8(0x1bf)](_0x279307);}),_0x32a6d8[_0x5394c3(0x1a7)]('Movement\x20step\x20for\x20'+_0x58527b+_0x5394c3(0x1a8));},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x147)]=function(_0x10a7ec){const _0x7b8664=_0x11ad77;let _0xeec828=0x0,_0xfb7d53=0x0,_0x8180d7=0x0,_0x324332=0x0,_0x1b6c66=0x0,_0x1a9748=0x0,_0x9deb97=0x0,_0x141252=0x0,_0x46455f=0x0;return _0x10a7ec['forEach'](function(_0x982309){const _0xef7298=_0x3a2c;_0x324332=_0x982309[_0xef7298(0x1e5)],_0x1b6c66=_0x982309[_0xef7298(0x159)],_0x1a9748=Math['PI']*_0x324332/0xb4,_0xeec828+=Math[_0xef7298(0x1c4)](_0x1a9748),_0xfb7d53+=Math[_0xef7298(0x19f)](_0x1a9748),_0x8180d7+=_0x1b6c66;}),_0x9deb97=Math[_0x7b8664(0x175)](_0xfb7d53,_0xeec828),_0x141252=0xb4*_0x9deb97/Math['PI'],_0x46455f=_0x8180d7/_0x10a7ec[_0x7b8664(0x1cb)],{'lat':_0x141252,'lng':_0x46455f};},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x1c2)]=function(_0x2620c0){const _0xbd524b=_0x11ad77;let _0x5f38d0=0x0,_0x4a2cd3=0x0,_0x10b73b=0x0,_0x44ec91=0x0,_0x3471a6=0x0,_0x1ae874=0x0,_0x2f7bf0=0x0;return finalLatDegrees=0x0,finalLonDegrees=0x0,_0x2620c0[_0xbd524b(0x1fd)](function(_0x233fda){const _0x3ce97f=_0xbd524b;_0x44ec91=_0x233fda[_0x3ce97f(0x170)][_0x3ce97f(0x1e5)],_0x3471a6=_0x233fda['geometry']['longitude'],_0x1ae874=Math['PI']*_0x44ec91/0xb4,_0x5f38d0+=Math[_0x3ce97f(0x1c4)](_0x1ae874),_0x4a2cd3+=Math[_0x3ce97f(0x19f)](_0x1ae874),_0x10b73b+=_0x3471a6;}),_0x2f7bf0=Math[_0xbd524b(0x175)](_0x4a2cd3,_0x5f38d0),finalLatDegrees=0xb4*_0x2f7bf0/Math['PI'],finalLonDegrees=_0x10b73b/_0x2620c0[_0xbd524b(0x1cb)],{'lat':finalLatDegrees,'lng':finalLonDegrees};},bbbMap[_0x11ad77(0x200)][_0x11ad77(0x141)][_0x11ad77(0x18e)]=function(_0xda8182,_0x12d52a){return _0xda8182['distanceTo'](_0x12d52a);},bbbMap[_0x11ad77(0x200)]['prototype'][_0x11ad77(0x1b3)]=function(_0x36bf1b,_0x31b88f){const _0x592f14=_0x11ad77;console[_0x592f14(0x1a7)](_0x592f14(0x1f6),_0x36bf1b,_0x31b88f);let _0x594e95,_0x222f89=0x1/0x0,_0x576317=0x0,_0x2fac82=this;return _0x31b88f[_0x592f14(0x1fd)](function(_0x4ad6ba,_0x3833db){const _0x4f74a5=_0x592f14;_0x576317=_0x2fac82['arcgis'][_0x4f74a5(0x199)][_0x4f74a5(0x19c)](_0x36bf1b,_0x4ad6ba[_0x4f74a5(0x170)]),_0x576317<_0x222f89&&(_0x222f89=_0x576317,_0x594e95=_0x3833db);}),{'idx':_0x594e95,'dist':_0x222f89};},document[_0x11ad77(0x1c9)](_0x11ad77(0x158),()=>{const _0x23e2a5=_0x11ad77;console[_0x23e2a5(0x1a7)]('DOM\x20loaded'),console[_0x23e2a5(0x1a7)](_0x23e2a5(0x139)),bbbMap[_0x23e2a5(0x13b)]();}));